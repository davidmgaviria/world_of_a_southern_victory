add_namespace = wsv_greece


# News event of Allied troops landing in Thessaloniki
news_event = {
	id = wsv_greece.1
	title = wsv_greece.1.t
	desc = wsv_greece.1.d
	#picture =  #TODO - needs picture

    is_triggered_only = yes
	major = yes

	immediate = {
		set_global_flag = entente_landings_in_greece
		GRE = { set_country_flag = greek_national_schism }
	}

	option = {
		name = wsv_greece.1.a
		trigger = {
			NOT = { tag = FRA }
			NOT = {	is_in_faction_with = FRA }
		}
	}

	option = {
		name = wsv_greece.1.b
		trigger = {
			OR = { 
				tag = FRA
				is_in_faction_with = FRA
			}
		}
	}
}


# Allies expand bridgehead
country_event = {
	id = wsv_greece.2
	title = wsv_greece.2.t
	desc = wsv_greece.2.d

    trigger = {
		has_global_flag = entente_landings_in_greece
		OR = {
			tag = GRE
			tag = FRA 
		}
		GRE = { 
			has_full_control_of_state = 184
			NOT = { has_war_with = FRA }
			NOT = { is_in_faction_with =  FRA }
		}
		SER = { has_capitulated = yes }
		NOT = { has_country_flag = entente_expanded_foothold_in_greece }
	}

	immediate = {
		set_country_flag = entente_expanded_foothold_in_greece
	}

	# For Greece
	option = {
		name = wsv_greece.2.a
		trigger = { tag = GRE }
		add_stability = -0.05
		add_political_power = -75
	}

	# For France
	option = {
		name = wsv_greece.2.b
		trigger = { tag = FRA }
		transfer_state = 184
	}
}


# Greek National Front forms
news_event = {
	id = wsv_greece.3
	title = wsv_greece.3.t
	desc = wsv_greece.3.d

    is_triggered_only = yes
	major = yes

	immediate = {
		set_global_flag = greek_national_front_formed
		hidden_effect = {
			GNU = {
				transfer_state = 184
				transfer_state = 855
				transfer_state = 731
				transfer_state = 758
				every_owned_state = {
					add_core_of = GNU
				}
				inherit_technology = GRE
				load_focus_tree = { tree = generic_focus  keep_completed = yes }
			}
			# GRE = {
			# 	transfer_units_fraction = {
			# 		target = GNU
			# 		size = 0.25
			# 		army_ratio = 0.25
			# 		air_ratio = 0.1
			# 		navy_ratio = 0.1
			# 		stockpile_ratio = 0.15
			# 	}
			# }
			## add GNU to faction
			random_country = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = SER
				}
				add_to_faction = GNU
			}
		}
	}

	# For France & allies
	option = {
		name = wsv_greece.3.a
		trigger = {
			OR = {
				tag = FRA
				is_in_faction_with = FRA
			}
		}
	}

	# For French enemies
	option = {
		name = wsv_greece.3.b
		trigger = { has_war_with = FRA }
	}

	# For neutrals
	option = {
		name = wsv_greece.3.c
		trigger = {
			NOT = { tag = FRA }
			NOT = { has_war_with = FRA }
			NOT = { is_in_faction_with = FRA }
		}
	}
}

